var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,a=(t,l,s)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s,i=(e,i)=>{for(var n in i||(i={}))t.call(i,n)&&a(e,n,i[n]);if(l)for(var n of l(i))s.call(i,n)&&a(e,n,i[n]);return e};import{o as n,c as o,a as c,b as r,p as d,d as v,t as p,r as u,e as m,u as g,f as x,F as h,g as w,h as f,i as y,j as b,w as k,k as C,v as M,l as I}from"./vendor.67919cc1.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(l){const s=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((l,i)=>{const n=new URL(e,s);if(self[t].moduleMap[n])return l(self[t].moduleMap[n]);const o=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){i(new Error(`Failed to import: ${e}`)),a(c)},onload(){l(self[t].moduleMap[n]),a(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");const _={expose:[],props:{img:Object},setup:e=>(t,l)=>e.img?(n(),o("img",{key:0,class:"h-6em",src:e.img.url},null,8,["src"])):c("",!0),__scopeId:"data-v-affc5ff4"},j={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",style:{"vertical-align":"middle"}},z=r("path",{d:"M16 5c-3.855 0-7 3.145-7 7c0 2.41 1.23 4.55 3.094 5.813C8.527 19.343 6 22.883 6 27h2c0-4.43 3.57-8 8-8s8 3.57 8 8h2c0-4.117-2.527-7.656-6.094-9.188A7.024 7.024 0 0 0 23 12c0-3.855-3.145-7-7-7zm0 2c2.773 0 5 2.227 5 5s-2.227 5-5 5s-5-2.227-5-5s2.227-5 5-5z",fill:"currentColor"},null,-1);var A={render:function(e,t){return n(),o("svg",j,[z])}};const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",style:{"vertical-align":"middle"}},R=r("path",{d:"M16 8C7.664 8 1.25 15.344 1.25 15.344L.656 16l.594.656s5.848 6.668 13.625 7.282c.371.046.742.062 1.125.062s.754-.016 1.125-.063c7.777-.613 13.625-7.28 13.625-7.28l.594-.657l-.594-.656S24.336 8 16 8zm0 2c2.203 0 4.234.602 6 1.406c.637 1.055 1 2.27 1 3.594a6.995 6.995 0 0 1-6.219 6.969c-.02.004-.043-.004-.062 0c-.239.011-.477.031-.719.031c-.266 0-.523-.016-.781-.031A6.995 6.995 0 0 1 9 15c0-1.305.352-2.52.969-3.563h-.031C11.717 10.617 13.773 10 16 10zm0 2a3 3 0 1 0 .002 6.002A3 3 0 0 0 16 12zm-8.75.938A9.006 9.006 0 0 0 7 15c0 1.754.5 3.395 1.375 4.781A23.196 23.196 0 0 1 3.531 16a23.93 23.93 0 0 1 3.719-3.063zm17.5 0A23.93 23.93 0 0 1 28.469 16a23.196 23.196 0 0 1-4.844 3.781A8.929 8.929 0 0 0 25 15c0-.715-.094-1.398-.25-2.063z",fill:"currentColor"},null,-1);var L={render:function(e,t){return n(),o("svg",O,[R])}};const $={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",style:{"vertical-align":"middle"}},S=r("path",{d:"M16.688 3l-.313.281L9.594 10H5v16h16.844c1.41 0 2.64-.996 2.937-2.375l2.157-10C27.331 11.777 25.887 10 24 10h-5.75l.188-.75c.203-.156.332-.223.625-.625c.468-.64.937-1.633.937-2.969C20 4.23 18.71 3 17.094 3zm.718 2.094c.422.082.594.254.594.562c0 .903-.273 1.461-.531 1.813c-.258.351-.438.437-.438.437l-.343.188l-.125.406l-.594 2.25l-.313 1.25H24c.66 0 1.105.574.969 1.219l-2.125 10c-.102.468-.524.781-1 .781H11V11.406zM7 12h2v12H7z",fill:"currentColor"},null,-1);var U={render:function(e,t){return n(),o("svg",$,[S])}};const V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",style:{"vertical-align":"middle"}},P=r("path",{d:"M10.156 6c-1.41 0-2.64.996-2.937 2.375l-2.157 10C4.668 20.223 6.114 22 8 22h5.75l-.188.75c-.203.156-.332.223-.624.625c-.47.64-.938 1.633-.938 2.969C12 27.77 13.29 29 14.906 29h.406l.313-.281L22.406 22H27V6zm0 2H21v12.594l-6.406 6.312c-.422-.082-.594-.254-.594-.562c0-.903.273-1.461.531-1.813c.258-.351.438-.437.438-.437l.344-.188l.124-.406l.594-2.25l.313-1.25H8c-.66 0-1.105-.574-.969-1.219l2.125-10c.102-.469.524-.781 1-.781zM23 8h2v12h-2z",fill:"currentColor"},null,-1);var Y={render:function(e,t){return n(),o("svg",V,[P])}};d("data-v-73f3aec2");const B={class:"flex flex-wrap py-1"},H={class:"icon"},D={class:"icon"},E={class:"icon"},F={class:"icon"};v();const K={expose:[],props:{stat:Object,liveViewers:String},setup:e=>(t,l)=>{var s,a,i;const c=A,d=L,v=U,u=Y;return n(),o("div",B,[r("div",H,[r(c),r("span",null,p(e.liveViewers),1)]),r("div",D,[r(d),r("span",null,p(null==(s=e.stat)?void 0:s.viewCount),1)]),r("div",E,[r(v),r("span",null,p(null==(a=e.stat)?void 0:a.likeCount),1)]),r("div",F,[r(u),r("span",null,p(null==(i=e.stat)?void 0:i.dislikeCount),1)])])},__scopeId:"data-v-73f3aec2"};const T=u(i(i({},{clientID:"535311081404-mih9jj3085hoinec2sfeliim9do2il6r.apps.googleusercontent.com",clientSecret:"R71y9ifrgTMBGq_iqewhmuKd",redirectUri:"http://localhost:3000",apiKey:"AIzaSyABwYgiDO-3_A5YPJJYx06Ehp6EyVEvytU"}),{messages:0,totalI:0}));d("data-v-5fe37b6e");const q={class:"line text-sm"};v();const J={expose:[],props:{msg:Object},setup:e=>(e.msg.displayMessage.includes("I")&&T.totalI++,T.messages++,(t,l)=>(n(),o("div",q,p(e.msg.displayMessage),1))),__scopeId:"data-v-5fe37b6e"};d("data-v-1683a6a0");const G={class:"flex flex-col"},N={class:"flex flex-col mb-4"},Q={class:"text-lg"},W=y("Total messages processed: "),X={class:"font-bold"},Z={class:"text-lg"},ee=y("Of which containg letter 'I': "),te={class:"font-bold"};v();const le={expose:[],props:{id:String},setup(e){const t=e,l=m(`https://youtube.googleapis.com/youtube/v3/liveChat/messages?liveChatId=${t.id}&part=snippet&key=${T.apiKey}`);m();const{isFetching:s,error:a,data:i,execute:c}=g(l,{refetch:!0}).json(),d=setInterval((()=>{var e;(null==(e=i.value)?void 0:e.nextPageToken)?l.value=`https://youtube.googleapis.com/youtube/v3/liveChat/messages?liveChatId=${t.id}&part=snippet&key=${T.apiKey}&pageToken=${i.value.nextPageToken}`:c()}),3e3);return x((()=>{clearInterval(d)})),(e,t)=>{var l;const s=J;return n(),o("div",G,[r("div",N,[(n(!0),o(h,null,w(null==(l=f(i))?void 0:l.items,(e=>(n(),o(s,{key:e.id,msg:e.snippet},null,8,["msg"])))),128))]),r("div",Q,[W,r("span",X,p(f(T).messages),1)]),r("div",Z,[ee,r("span",te,p(f(T).totalI),1)])])}},__scopeId:"data-v-1683a6a0"};d("data-v-41d64e95");const se={class:"flex flex-col"},ae={class:"text-sm font-bold mb-2"},ie={class:"bg-red-100"},ne={key:0,class:"text-3xl"},oe={key:1,class:"flex flex-wrap"},ce={class:"flex flex-col px-4 flex-1"},re={class:"text-xl font-bold"},de={class:"text-xl line-clamp-3"};v();const ve={expose:[],props:{id:String},setup(e){const t=e,l=m(`https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics%2CliveStreamingDetails&id=${t.id}&key=${T.apiKey}`),{isFetching:s,error:a,data:i}=g(l).json(),d=b((()=>{var e,t,l;return null==(l=null==(t=null==(e=i.value)?void 0:e.items)?void 0:t[0])?void 0:l.snippet})),v=b((()=>{var e,t,l,s;return null==(s=null==(l=null==(t=null==(e=i.value)?void 0:e.items)?void 0:t[0])?void 0:l.liveStreamingDetails)?void 0:s.activeLiveChatId}));return(e,l)=>{var u,m,g,x,h,w;const y=_,b=K,k=le;return n(),o("div",se,[r("div",ae,p(t.id),1),r("div",ie,p(f(a)),1),f(s)?(n(),o("div",ne,"Fetching...")):(n(),o("div",oe,[r(y,{img:null==(m=null==(u=f(d))?void 0:u.thumbnails)?void 0:m.medium},null,8,["img"]),r("div",ce,[r("div",re,p(null==(g=f(d))?void 0:g.title),1),r("div",de,p(null==(x=f(d))?void 0:x.description),1),r(b,{stat:null==(h=f(i))?void 0:h.items[0].statistics,liveViewers:null==(w=f(i))?void 0:w.items[0].liveStreamingDetails.concurrentViewers},null,8,["stat","liveViewers"]),f(v)?(n(),o(k,{key:0,id:f(v)},null,8,["id"])):c("",!0)])]))])}}};ve.__scopeId="data-v-41d64e95";d("data-v-e5bc8d4e");const pe={class:"flex flex-col bg-gray-100 p-8"},ue=r("div",{class:"font-bold text-2xl"},"Paste a live stream URL",-1);v();const me={expose:[],setup(e){const t=m(""),l=b((()=>{return e=t.value,!(!(l=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=l[7].length)&&l[7];var e,l}));return k(l,(e=>{})),(e,s)=>{const a=ve;return n(),o("div",pe,[ue,C(r("input",{class:"p-2 my-4",type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e)},null,512),[[M,t.value]]),f(l)?(n(),o(a,{key:f(l),id:f(l)},null,8,["id"])):c("",!0)])}},__scopeId:"data-v-e5bc8d4e"};const ge=r("div",{class:"flex flex-col p-8 items-center"},[r("div",{class:"text-4xl font-bold"},"Youtube chat listener")],-1),xe=r("div",{class:"flex flex-col"},null,-1);I({expose:[],setup:e=>(e,t)=>{const l=me;return n(),o(h,null,[ge,xe,r(l)],64)}}).mount("#app");
